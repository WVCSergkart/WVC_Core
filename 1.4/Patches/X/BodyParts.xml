<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>honkai.girls.sergkart</modId>
		<key>WVC_EnableImplants_TortureBodyParts</key>
		<defaultValue>true</defaultValue>
		<caseFalse>

			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/HediffDef[@ParentName="WVC_Hediff_BodyPart_Torture"]</xpath>
			</li>
			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/ThingCategoryDef[defName="WVC_BodyPartsTorture"]</xpath>
			</li>
			<!-- <li Class="XmlExtensions.PatchOperationSafeRemove"> -->
				<!-- <xpath>/Defs/ResearchProjectDef[defName="WVC_BionicTech_Torture"]</xpath> -->
			<!-- </li> -->

		</caseFalse>
		<caseTrue>

			<Operation Class="XmlExtensions.ApplyPatch">
				<patchName>WVC_BodyPartGenerator</patchName>
				<arguments>
					<li>WVC_Hediff_BodyPart_Torture</li>
					<li>WVC_BodyPartTortureBase</li>
				</arguments>
			</Operation>

		</caseTrue>
	</Operation>

	<!--=====================================================================-->

	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>honkai.girls.sergkart</modId>
		<key>WVC_EnableImplants_AdvancedBionicBodyParts</key>
		<defaultValue>true</defaultValue>
		<caseFalse>

			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/HediffDef[@ParentName="WVC_Hediff_BodyPart_AdvancedBionic"]</xpath>
			</li>
			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/ThingCategoryDef[defName="WVC_BodyPartsAdvancedBionic"]</xpath>
			</li>
			<!-- <li Class="XmlExtensions.PatchOperationSafeRemove"> -->
				<!-- <xpath>/Defs/ResearchProjectDef[defName="WVC_BionicTech_AdvancedBionic"]</xpath> -->
			<!-- </li> -->

		</caseFalse>
		<caseTrue>

			<Operation Class="XmlExtensions.ApplyPatch">
				<patchName>WVC_BodyPartGenerator</patchName>
				<arguments>
					<li>WVC_Hediff_BodyPart_AdvancedBionic</li>
					<li>WVC_BodyPartAdvancedBionicBase</li>
				</arguments>
			</Operation>

			<Operation Class="XmlExtensions.OptionalPatch">
				<modId>honkai.girls.sergkart</modId>
				<key>WVC_EnableImplants_CyberneticBodyParts</key>
				<defaultValue>false</defaultValue>
				<caseFalse>

				   <Operation Class="PatchOperationAdd">
					  <xpath>/Defs/ResearchProjectDef[defName="WVC_RaceResearching_Valkyries"]/prerequisites</xpath> 
					  <value>
						<li>WVC_BionicTech_AdvancedBionic</li>
					  </value>
				   </Operation>

				</caseFalse>
			</Operation>

		</caseTrue>
	</Operation>

	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>honkai.girls.sergkart</modId>
		<key>WVC_EnableImplants_CyberneticBodyParts</key>
		<defaultValue>true</defaultValue>
		<caseFalse>

			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/HediffDef[@ParentName="WVC_Hediff_BodyPart_Cybernetic"]</xpath>
			</li>
			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/ThingCategoryDef[defName="WVC_BodyPartsCybernetic"]</xpath>
			</li>
			<!-- <li Class="XmlExtensions.PatchOperationSafeRemove"> -->
				<!-- <xpath>/Defs/ResearchProjectDef[defName="WVC_BionicTech_Cybernetic"]</xpath> -->
			<!-- </li> -->

		</caseFalse>
		<caseTrue>

			<Operation Class="XmlExtensions.OptionalPatch">
				<modId>honkai.girls.sergkart</modId>
				<key>WVC_EnableImplants_AdvancedBionicBodyParts</key>
				<defaultValue>false</defaultValue>
				<caseTrue>

				   <Operation Class="PatchOperationAdd">
					  <xpath>/Defs/ResearchProjectDef[defName="WVC_BionicTech_Cybernetic"]/prerequisites</xpath> 
					  <value>
						<li>WVC_BionicTech_AdvancedBionic</li>
					  </value>
				   </Operation>

				</caseTrue>
			</Operation>

			<Operation Class="XmlExtensions.ApplyPatch">
				<patchName>WVC_BodyPartGenerator</patchName>
				<arguments>
					<li>WVC_Hediff_BodyPart_Cybernetic</li>
					<li>WVC_BodyPartCyberneticBase</li>
				</arguments>
			</Operation>

		   <Operation Class="PatchOperationAdd">
			  <xpath>/Defs/ResearchProjectDef[defName="WVC_RaceResearching_Valkyries"]/prerequisites</xpath> 
			  <value>
				<li>WVC_BionicTech_Cybernetic</li>
			  </value>
		   </Operation>

		</caseTrue>
	</Operation>

	<!--=====================================================================-->

	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>honkai.girls.sergkart</modId>
		<key>WVC_EnableImplants_AncientBodyParts</key>
		<defaultValue>true</defaultValue>
		<caseFalse>

			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/HediffDef[@ParentName="WVC_Hediff_BodyPart_Ancient"]</xpath>
			</li>
			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/ThingCategoryDef[defName="WVC_BodyPartsAncient"]</xpath>
			</li>

		</caseFalse>
		<caseTrue>

			<Operation Class="XmlExtensions.ApplyPatch">
				<patchName>WVC_BodyPartGenerator</patchName>
				<arguments>
					<li>WVC_Hediff_BodyPart_Ancient</li>
					<li>WVC_BodyPartAncientBase</li>
				</arguments>
			</Operation>

		</caseTrue>
	</Operation>

	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>honkai.girls.sergkart</modId>
		<key>WVC_EnableImplants_MechanoidBodyParts</key>
		<defaultValue>true</defaultValue>
		<caseFalse>

			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/HediffDef[@ParentName="WVC_Hediff_BodyPart_Mechanoid"]</xpath>
			</li>
			<li Class="XmlExtensions.PatchOperationSafeRemove">
				<xpath>/Defs/ThingCategoryDef[defName="WVC_BodyPartsMechanoid"]</xpath>
			</li>

		</caseFalse>
		<caseTrue>

			<Operation Class="XmlExtensions.ApplyPatch">
				<patchName>WVC_BodyPartGenerator</patchName>
				<arguments>
					<li>WVC_Hediff_BodyPart_Mechanoid</li>
					<li>WVC_BodyPartMechanoidBase</li>
				</arguments>
			</Operation>

		</caseTrue>
	</Operation>

</Patch>